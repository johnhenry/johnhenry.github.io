---
// Settings
import { TAG_MANAGER_ID, SITE_TITLE } from '../SETTINGS.mjs';
// Components
import SiteHead from "./SiteHead.astro";
import GDPRRequest from './GDPRRequest.astro';
import TagManagerBody from './TagManagerBody.astro';
import BodyClassCycler from './BodyClassCycler.astro';
// Content
const {
  title,
  description, keywords, author, canonical, headerLinks, htmlClass, bodyClass, headerClass, footerClass } = Astro.props;
---
<!DOCTYPE html>
<html lang="en" class={htmlClass}>
  <SiteHead
    subtitle={title}
    description={description}
    keywords={keywords}
    author={author}
    canonical={canonical} ></SiteHead>
  <body class={bodyClass}>
    <BodyClassCycler
      global="cycleTheme"
      storage-key="color-theme-preference"
      classes={[
      "",
      "color-theme-dark",
      "color-theme-light"]} />
    <BodyClassCycler
      global="cycleMouseChaser"
      storage-key="mouse-chaser-preference"
      classes={[
      "mouse-chaser-logo",
      "mouse-chaser-coordinates",
      ""]} />
    <header class={headerClass}>
      <a href="/#" ><img src="/image/iajh.png" width="16" height="16" alt="logo" />{SITE_TITLE}
      <p class="hide-n-show-landscape-inline">{title}</p></a>
      <nav class="hide show-landscape-flex">
        {headerLinks.map(({url, text}) => (
            <a href={`${url}`}>{text}</a>
          ))}
      </nav>
    </header>
    <slot />
    <span class="mouse-chaser" ></span>
    <footer class={footerClass}>
    <a href="#">Â© {new Date().getFullYear()}  {` ${author}`}</a>
      <!-- Todo: Astro whitespace may be fixed in Astro 0.21? -->
      <nav>
        <a href="#"
          class="mouse-chaser-toggler"
          onclick="event.preventDefault(),window.cycleMouseChaser()" title="Click to toggle mouse."></a>
        <a href="#"
          class="color-theme-toggler"
          onclick="event.preventDefault(),window.cycleTheme()"
          title="Click to toggle color theme."></a>
      </nav>
    </footer>
    {TAG_MANAGER_ID ? <GDPRRequest /> : null}
    {TAG_MANAGER_ID ? <TagManagerBody tmid={`${TAG_MANAGER_ID}`} /> : null}
  </body>
</html>